<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>wishlist page</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body style="background-color:rgb(222, 157, 167);">

  <script src="external.js"></script>

  <!-- Navbar -->
  <nav class="navbar" style="background-color:rgb(199, 199, 219);">
    <div class="container-fluid">
      <div class="navbar">
        <h2><i class="fas fa-shopping-bag m-3" style="color:chocolate"></i>Fashion Trends</h2>
      </div>
      <div class="navbar d-flex">
        <a href="home.html" style="text-decoration: none;">Home</a>
        <a href="cart.html" style="text-decoration: none;" class="icon-badge">Cart</a></li>
        <a href="wishlist.html" style="text-decoration: none;" class="icon-badge">Wishlist</a></li>

        <span class="icon-badge" id="carticon">
          <i class="fas fa-shopping-cart" style="font-size:30px;color:rgb(3, 90, 118)"></i>
          <span class="badge bg-primary" id="cart-badge">0</span>
        </span>
        <span class="icon-badge" id="wishlisticon">
          <i class="fa fa-heart" style="font-size:25px;color:red"></i>
          <span class="badge bg-danger" id="wishlist-badge">0</span>
        </span>
      </div>
    </div>
  </nav>

  <h1 style="text-align:center; margin:20px;">Wishlist Items</h1>
  <div id="wishlistitems"></div>

  <!-- footer -->

  <div class="footer-container">
    <div class="footer-content">
      <i class="fa-solid fa-location-dot"></i>
      <p>21 Revolution Street Paris,France</p>
      <i class="fa-solid fa-phone"></i>
      <p>+1 555 123456</p>
      <i class="fa-solid fa-envelope"></i>
      <p>support@company.com</p>
    </div>
    <div class="foot">
      <h1>About the company</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.
        Dignissimos enim adipisci eveniet, earum fugiatsoluta eos vel possimus eius illum libero natus sit voluptate ad
        vitae doloribus ullam numquam molestiae.</p>
      <i class="fa-brands fa-facebook"></i>
      <i class="fa-brands fa-twitter"></i>
      <i class="fa-brands fa-linkedin"></i>
      <i class="fa-brands fa-github"></i>
    </div>
  </div>

  <script>
    document.getElementById("carticon").addEventListener("click", function () {
      window.location.href = "cart.html";
    });

    const storedWishlist = new Set(JSON.parse(localStorage.getItem("wishlist") || "[]"));
    const container = document.getElementById("wishlistitems");

    if (storedWishlist.size === 0) {
      container.innerHTML = "<p>Wishlist is empty.</p>";
    } else {
      let tableHTML = `
      <table class="table table-bordered";>
        <thead style="text-align:center;">
          <tr>
            <th>Image</th>
            <th>Product Name</th>
            <th>Price (₹)</th>  
          </tr>
        </thead>
        <tbody>
    `;

      let tot = 0;
      storedWishlist.forEach(id => {
        const item = products[id];
        if (item) {
          tableHTML += `
           <tr style="text-align:center;">
            <td><img src="${item.image}" alt="${item.name}" width="15%" height="15%";></td>
            <td>${item.name}</td>
            <td>₹${item.price}</td>
          </tr>
        `;

          tot = tot + item.price;
        }
      });

      tableHTML += `
            <tr>
              <td colspan="2" class="text-end">Total</td>
              <td style="text-align:center;">₹${tot}</td>
            </tr>
        </tbody>
      </table>
      
    `;

      container.innerHTML = tableHTML;
    }

  </script>


</body>

</html>