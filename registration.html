<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Page</title>
    <link rel="stylesheet" href="css/registration.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body style="background-color: rgb(169, 222, 237);">

    <section>

        <div class="form-group">
            <label for="">Enter Your Username:</label><br>
            <input type="text" id="uname" required>
            <span id="uerror"></span>
        </div>

        <div class="form-group">
            <label for="">Enter Your email:</label><br>
            <input type="email" id="email" required>
            <span id="emerror"></span>
        </div>

        <div class="form-group">
            <label for="">Enter Your Password:</label><br>
            <input type="password" id="pname" required>
            <i class="fa fa-eye-slash" onclick="eyeclick()" id="eyeicon" aria-hidden="true"></i>
            <span id="perror"></span>
        </div>

        <div class="form-group">
            <label for="">Enter Your confirm Password:</label><br>
            <input type="password" id="cpass" required>
            <i class="fa fa-eye-slash" onclick="eyeclick()" id="eyeicon" aria-hidden="true"></i>
            <span id="cperror"></span>
        </div>

        <div class="form-group">
            <button type="submit" id="sumbtn">submit</button>
        </div><br>

        <div>
            <h4>Already have an account? <span><a href="login.html" style="text-decoration: none;">Login</a></span></h4>
        </div>

    </section>

    <script>

        sumbtn.addEventListener("click", () => {
            let uname = document.querySelector("#uname").value;
            let email = document.querySelector("#email").value;
            let pname = document.querySelector("#pname").value;
            let cpname = document.querySelector("#cpname").value;
            console.log(uname, email, pname, cpname)


            function checkemail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            }
            function checkpassword(pname) {
                return /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%#?&]{6,}$/;
            }
            function checkconfirmpassword(cpname) {
                return /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%#?&]{6,}$/;
            }

            let uerror = document.querySelector("#uerror");
            let emerror = document.querySelector("#emerror");
            let perror = document.querySelector("#perror");
            let cperror = document.querySelector("#cperror");

            uerror.innerHTML = "";
            emerror.innerHTML = "";
            perror.innerHTML = "";
            cperror.innerHTML = "";

            let obj = [{
                username: "kamalika",
                password: "kamalika05",
                email: "kamali05@gmail.com",
                confirmpassword: "kamalika05"
            }]

            if (uname == "" && email == "" && pname == "" && cpname == "") {
                uerror.innerHTML = "username is empty";
                emerror.innerHTML = "email is empty";
                perror.innerHTML = "password empty";
                cperror.innerHTML = "cperror empty";
            } else if (uname != "" && email != "" && pname == "" && cpname == "") {
                perror.innerHTML = "password is empty";
                cperror.innerHTML = "confirm password is empty"
            } else if (uname == "" && email == "" && pname != "" && cpname != "") {
                uerror.innerHTML = "user name is empty";
                emerror.innerHTML = "email is empty";
            } else if (uname == "") {
                uerror.innerHTML = "user name is empty";
            }
            else if (email == "") {
                emerror.innerHTML = "email is empty";
            }
            else if (pname == "") {
                perror.innerHTML = "password is empty";
            }
            else if (cpname == "") {
                cperror.innerHTML = "confirm password is empty";
            }

            else {
                if (uname != "kamalika") {
                    alert('user name is wrong')
                } else if (email != "kamali05@gmail.com") {
                    if (validate(email) != "kamali05@gmail.com") {
                        alert('must be applying  @ symbol')
                    } else {
                        alert('email is wrong')
                    }
                } else if (pname != "kamalika05") {
                    if (validateform(pname) != "password".length < 6) {
                        alert('password must be at least 6 character')
                    } else {
                        alert('password is wrong')
                    }

                } else if (cpname != "kamalika05") {
                    if (validity(cpname) != "password".length < 6) {
                        alert('password must be at least 6 character')
                    } else {
                        alert('confirm password is wrong')
                    }

                }
                else {
                    alert('login success')
                }
            }
        })


        localStorage.setItem('user', JSON.stringify(obj));
        let a = JSON.parse(localStorage.getItem('user'))
        console.log('data', a)


        function eyeclick() {
            let icon = document.querySelector("#eyeicon");
            let attr = icon.getAttribute("class");

            if (attr == "fa fa-eye-slash") {
                let rattr = attr.replace("fa-eye-slash", "fa-eye");
                icon.setAttribute("class", rattr);
            } else {
                let rattr = attr.replace("fa-eye", "fa-eye-slash");
                icon.setAttribute("class", rattr);
            }

            let pass = document.querySelector("#pname")
            let atrval = pass.getAttribute('type');
            if (atrval == "password") {
                pass.setAttribute("type", "text");
            } else {
                pass.setAttribute("type", "password");
            }
        }

    </script>

</body>

</html>